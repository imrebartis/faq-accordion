{"version":3,"file":"index.js","sources":["../../../src/scripts/utils.js","../../../src/scripts/main.js"],"sourcesContent":["'use strict';\n\nexport function getElement(selector, parent = document) {\n  const element = parent.querySelector(selector);\n  if (!element) {\n    throw new Error(`Element with selector \"${selector}\" not found`);\n  }\n  return element;\n}\n\nexport function getElements(selector, parent = document) {\n  const elements = Array.from(parent.querySelectorAll(selector));\n  if (!elements.length) {\n    throw new Error(`No elements found with selector \"${selector}\"`);\n  }\n  return elements;\n}\n\nexport function addEventListenerWithErrorHandling(element, event, handler) {\n  if (!element) {\n    throw new Error('Cannot add event listener to undefined element');\n  }\n  element.addEventListener(event, handler);\n}\n","'use strict';\n\nimport {\n  getElement,\n  getElements,\n  addEventListenerWithErrorHandling,\n} from './utils.js';\n\nconst plusIcon = new URL('../assets/images/icon-plus.svg', import.meta.url)\n  .href;\nconst minusIcon = new URL('../assets/images/icon-minus.svg', import.meta.url)\n  .href;\n\nfunction handleKeydown(e, headers) {\n  const currentIndex = headers.indexOf(e.target);\n  let nextHeader;\n  let prevHeader;\n\n  switch (e.key) {\n    case 'ArrowDown':\n      e.preventDefault();\n      nextHeader = headers[currentIndex + 1] || headers[0];\n      nextHeader.focus();\n      break;\n    case 'ArrowUp':\n      e.preventDefault();\n      prevHeader = headers[currentIndex - 1] || headers[headers.length - 1];\n      prevHeader.focus();\n      break;\n    case 'Enter':\n    case ' ':\n      e.preventDefault();\n      toggleAccordion(e.target.closest('.accordion-item'));\n      break;\n  }\n}\n\nfunction toggleAccordion(item) {\n  const isExpanding = !item.classList.contains('active');\n  const header = item.querySelector('.accordion-item-header');\n  const content = item.querySelector('.accordion-content');\n  const icon = header.querySelector('.accordion-toggle-icon');\n\n  document.querySelectorAll('.accordion-item.active').forEach((activeItem) => {\n    if (activeItem !== item) {\n      activeItem.classList.remove('active');\n      activeItem\n        .querySelector('.accordion-item-header')\n        .setAttribute('aria-expanded', 'false');\n      activeItem\n        .querySelector('.accordion-content')\n        .setAttribute('aria-hidden', 'true');\n      activeItem\n        .querySelector('.accordion-toggle-icon')\n        .setAttribute('src', plusIcon);\n    }\n  });\n\n  item.classList.toggle('active', isExpanding);\n  header.setAttribute('aria-expanded', isExpanding);\n  content.setAttribute('aria-hidden', !isExpanding);\n  icon.setAttribute('src', isExpanding ? minusIcon : plusIcon);\n}\n\ntry {\n  const accordion = getElement('.accordion');\n  const headers = getElements('.accordion-item-header');\n\n  headers.forEach((header) => header.setAttribute('aria-expanded', 'false'));\n\n  addEventListenerWithErrorHandling(accordion, 'click', (e) => {\n    const item = e.target.closest('.accordion-item');\n    if (item) toggleAccordion(item);\n  });\n\n  headers.forEach((header) => {\n    addEventListenerWithErrorHandling(header, 'keydown', (e) =>\n      handleKeydown(e, headers)\n    );\n  });\n} catch (error) {\n  console.error('Failed to initialize accordion:', error);\n}\n"],"names":["getElement","selector","parent","element","getElements","elements","addEventListenerWithErrorHandling","event","handler","plusIcon","minusIcon","handleKeydown","headers","currentIndex","nextHeader","prevHeader","toggleAccordion","item","isExpanding","header","content","icon","activeItem","accordion","e","error"],"mappings":"ssBAEO,SAASA,EAAWC,EAAUC,EAAS,SAAU,CACtD,MAAMC,EAAUD,EAAO,cAAcD,CAAQ,EAC7C,GAAI,CAACE,EACH,MAAM,IAAI,MAAM,0BAA0BF,CAAQ,aAAa,EAEjE,OAAOE,CACT,CAEO,SAASC,EAAYH,EAAUC,EAAS,SAAU,CACvD,MAAMG,EAAW,MAAM,KAAKH,EAAO,iBAAiBD,CAAQ,CAAC,EAC7D,GAAI,CAACI,EAAS,OACZ,MAAM,IAAI,MAAM,oCAAoCJ,CAAQ,GAAG,EAEjE,OAAOI,CACT,CAEO,SAASC,EAAkCH,EAASI,EAAOC,EAAS,CACzE,GAAI,CAACL,EACH,MAAM,IAAI,MAAM,gDAAgD,EAElEA,EAAQ,iBAAiBI,EAAOC,CAAO,CACzC,CCfA,MAAMC,EAAW,IAAA,IAAA,6CAAA,YAAA,GAAA,EACd,KACGC,EAAY,IAAA,IAAA,8CAAA,YAAA,GAAA,EACf,KAEH,SAASC,EAAc,EAAGC,EAAS,CACjC,MAAMC,EAAeD,EAAQ,QAAQ,EAAE,MAAM,EAC7C,IAAIE,EACAC,EAEJ,OAAQ,EAAE,IAAG,CACX,IAAK,YACH,EAAE,eAAgB,EAClBD,EAAaF,EAAQC,EAAe,CAAC,GAAKD,EAAQ,CAAC,EACnDE,EAAW,MAAO,EAClB,MACF,IAAK,UACH,EAAE,eAAgB,EAClBC,EAAaH,EAAQC,EAAe,CAAC,GAAKD,EAAQA,EAAQ,OAAS,CAAC,EACpEG,EAAW,MAAO,EAClB,MACF,IAAK,QACL,IAAK,IACH,EAAE,eAAgB,EAClBC,EAAgB,EAAE,OAAO,QAAQ,iBAAiB,CAAC,EACnD,KACN,CACA,CAEA,SAASA,EAAgBC,EAAM,CAC7B,MAAMC,EAAc,CAACD,EAAK,UAAU,SAAS,QAAQ,EAC/CE,EAASF,EAAK,cAAc,wBAAwB,EACpDG,EAAUH,EAAK,cAAc,oBAAoB,EACjDI,EAAOF,EAAO,cAAc,wBAAwB,EAE1D,SAAS,iBAAiB,wBAAwB,EAAE,QAASG,GAAe,CACtEA,IAAeL,IACjBK,EAAW,UAAU,OAAO,QAAQ,EACpCA,EACG,cAAc,wBAAwB,EACtC,aAAa,gBAAiB,OAAO,EACxCA,EACG,cAAc,oBAAoB,EAClC,aAAa,cAAe,MAAM,EACrCA,EACG,cAAc,wBAAwB,EACtC,aAAa,MAAOb,CAAQ,EAErC,CAAG,EAEDQ,EAAK,UAAU,OAAO,SAAUC,CAAW,EAC3CC,EAAO,aAAa,gBAAiBD,CAAW,EAChDE,EAAQ,aAAa,cAAe,CAACF,CAAW,EAChDG,EAAK,aAAa,MAAOH,EAAcR,EAAYD,CAAQ,CAC7D,CAEA,GAAI,CACF,MAAMc,EAAYvB,EAAW,YAAY,EACnCY,EAAUR,EAAY,wBAAwB,EAEpDQ,EAAQ,QAASO,GAAWA,EAAO,aAAa,gBAAiB,OAAO,CAAC,EAEzEb,EAAkCiB,EAAW,QAAUC,GAAM,CAC3D,MAAMP,EAAOO,EAAE,OAAO,QAAQ,iBAAiB,EAC3CP,GAAMD,EAAgBC,CAAI,CAClC,CAAG,EAEDL,EAAQ,QAASO,GAAW,CAC1Bb,EAAkCa,EAAQ,UAAYK,GACpDb,EAAca,EAAGZ,CAAO,CACzB,CACL,CAAG,CACH,OAASa,EAAO,CACd,QAAQ,MAAM,kCAAmCA,CAAK,CACxD"}